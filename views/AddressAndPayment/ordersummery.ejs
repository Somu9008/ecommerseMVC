<%-layout('layout/boilerPlate.ejs')%>
<style>
  .track-checkout {
    display: flex;
    width: 50%;
    margin: auto;
    justify-content: space-around;
    align-items: center;
    text-align: center;
    margin-top: 1rem;
    margin-bottom: 1rem;
  }

  .track-checkout div input[type="checkbox"] {
    border: 1px solid blue;
  }

  .track-checkout div input[type="checkbox"] {
    height: 1.5rem;
    width: 1.5rem;
    margin-top: 1rem;
  }

  .track-checkout .completed {
    background-color: rgb(137, 137, 137);
    height: 5px;
    width: 240px;
  }

  .ordersummery {
    /* border: 1px solid black; */
    display: flex;
    min-height: 50vh; 
  }
  .ordersummery .orders-items {
    /* border: 1px solid red; */
    width: 60%;
    padding: 1rem;
  }

  .ordersummery .orders-items .items {
    display: flex;
    justify-content: space-around;
    align-items: center;
    /* border: 1px solid red; */
  }


  

  
  
  

  h4,h5,h3,h2{
    margin: 0.5rem;
  }

  .order-paymentmethods {
    /* border: 1px solid blue; */
    width: 50%;
    background:linear-gradient(183deg,rgb(255, 4, 109),rgb(163, 23, 163));
    /* background-color: black; */
    color: rgb(185, 249, 255);
    /* color: rgb(207, 233, 255); */
    padding: 1rem;
  }

  .order-paymentmethods h2{
    text-align: center;
  }

 
  .order-paymentmethods .total-payment {
   width: 86%;
    box-shadow: 2px 2px 10px rgb(76, 17, 53);
    /* border: 1px solid red; */
    padding: 1rem;
    margin: auto;
  }

  .order-paymentmethods .total-payment div {
    display: flex;
    justify-content:space-between;
  }

  .order-paymentmethods .payment-methods .cod-strip-debit form {
    /* border: 1px solid rgb(255, 4, 109); */
    background:linear-gradient(123deg,rgb(255, 4, 109),rgb(163, 23, 163));
    width: 88%;
    box-shadow: 2px 2px 5px rgb(99, 9, 51);
    margin: auto;
    /* text-align: center; */
    padding: 1rem;
    padding-bottom: 0;
  }

  .order-paymentmethods .payment-methods .cod-strip-debit form div{
    /* border: 1px solid blue; */
    width: 80%;
    margin: auto;
    /* padding: 0.5rem 1rem; */
    /* border: 1px solid rgb(43, 43, 43); */
    box-shadow: 2px 2px 5px rgb(99, 9, 51);
    background-color:transparent;
    /* background:linear-gradient(123deg,rgb(255, 4, 109),rgb(163, 23, 163)); */
    /* justify-content: space-around; */
    /* text-align: center; */
    /* align-items: center; */
    /* margin: 0; */
    padding: 1rem 2rem;
    margin-top: 0.5rem;

  }

  .order-paymentmethods .payment-methods .cod-strip-debit form div  label{
    margin-left: 2rem;
    /* flex-basis: 35%; */
    /* text-align: center; */
    /* display: flex; */
    /* justify-content: center; */
   
  }

  .order-paymentmethods .payment-methods .cod-strip-debit form button{
    width: 100%;
    margin: auto;
    padding: 0.8rem 1.5rem;
    border: none;
    text-align: center;
    margin-top: 0.5rem;
    margin-bottom: 0;
  }
  

</style>



<body>
  <div class="track-checkout">
    <div>
      <b>LoggegIn</b>
      <i style="font-size: 2rem;font-weight:900; color:green;" class="fa-regular fa-square-check"></i>
    </div>
    <span class="completed" style="background-color: rgb(15, 154, 15)"></span>
    <div>
      <b>shipppinAddress</b>
      <i style="font-size: 2rem;font-weight:900; color:green;" class="fa-regular fa-square-check"></i>
    </div>
    <span class="completed" style="background-color: rgb(15, 154, 15)"></span>
    <div>
      <b>Summery</b>
      <i style="font-size: 2rem;font-weight:900; color:green;" class="fa-regular fa-square-check"></i>
    </div>

  </div>

  <h2>order summery</h2>
  <form action="/shippingaddressedit"><button style="background: linear-gradient(123deg,rgb(255, 4, 109),rgb(163, 23, 163));padding: 0.5rem 1.5rem;border: none;color: white;box-shadow: 2px 2px 3px rgb(82, 3, 44);">Back</button></form>
  <div class="ordersummery">
    <div class="orders-items">
      <h3>Items(<%=currentUser.cartItems.length%>)</h3>
      <%let totalamount = 0%>
      <div>
        <%for(let item of cartItems.cartItems){%>
          <div class="items" style="box-shadow: 2px 2px 5px rgb(152, 152, 152);margin-top: 0.3rem;">
            <div><img style="width: 7rem;height: 7rem;" src="<%=item.items.image.url%>" alt="" />
              <p><%=item.items.title%></p></div>
            
            <p>Qty: <%=item.quantity%></p>
            <p>Item price : &#8377; <b><%=item.items.price%></p></b>
            <p>total Price : &#8377; <b><%=item.items.price * item.quantity%></b></p>
            <%totalamount += (item.items.price * item.quantity)%>
          </div>
          <%}%>
      </div>
      
      <hr />
      <div class="orderaddress">
          <h3>Address</h3>
          <p>Mobile_no :<%=currentUser.address.mobileno%></p>
          <p>Area:<%=currentUser.address.area%></p>
          <p>Pincode :<%=currentUser.address.pincode%></p>
          <span>city :<%=currentUser.address.city%>,</span>
          <span>tq :<%=currentUser.address.taluq%>,</span>
          <span>dist :<%=currentUser.address.dist%>,</span>
          <span>state :<%=currentUser.address.state%>,</span>
          <span>country :<%=currentUser.address.country%></span>
    
      </div>
    </div>
    <div class="order-paymentmethods">
      <h2>Make Paymets</h2>
      <div class="total-payment">
        <div><h4>items total price :  <h4>&#8377;<b><%=totalamount%></b></h4></h4></div>
        <div><h4>shipping Price :  <h4>&#8377;<b><%=10%></b></h4></h4></div>
        <hr>
        <div><h2>Total_Price :<h3> &#8377; <%=totalamount + 10%></h3></h2></div> 
      </div>
      <div class="payment-methods">
        <h2>Choose payment methods</h2>
        <div class="cod-strip-debit">
           <form method="post" action="/orders/checkout">
            
              <div>
              <input type="radio" name="paymentmethod" value="cod" id="cashondelivery" required ><label for="cashondelivery">Cash On Delivery</label>
              </div>
            <div> 
                <input type="radio" name="paymentmethod" value="stripe" id="strip" required><label for="strip">STRIPE</label>
            </div>
           <div>
            <input type="radio" name="paymentmethod" value="debit" id="debit" required><label for="debit">DEBIT CARD</label>
          </div>
          
            <button>Place Order</button></div>
          </form>
          
        </div>
        
      </div>
    </div>
  </div>

  
 
</body>
